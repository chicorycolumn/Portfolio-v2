<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../assets/css/starter.css" />
    <link rel="stylesheet" href="../assets/css/global.css" />
    <link rel="stylesheet" href="../assets/css/animations.css" />
    <link rel="stylesheet" href="../assets/css/portfolioGrid.css" />
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="module" src="assets/js/starter.js"></script> -->
    <title>C Matus Portfolio</title>
    <script>
      function routeThePage(hash = window.location.hash.slice(1)) {
        console.log("The hash is ", hash);

        if (
          hash &&
          [
            "home",
            "nc_news",
            "wormplay",
            "portfolio",
            "sortcut",
            "crossword_crocodile",
            "fruit_makhzan",
            "portfolioSection",
            "aboutMeSection",
          ].indexOf(hash) === -1
        ) {
          console.log("--1");
          hash = "";
          window.location = window.location.href.substr(
            0,
            window.location.href.indexOf("#")
          );
        }
        if (hash === "home") {
          setTimeout(() => {
            console.log("gonna scroll to portfolio grid");
            $(".portfolioPageHolder").remove();
            $(".portfolioHolder").load("/content/portfolioCardHolder.html");
            $("#portfolioBackButton").addClass("visibility-h");
            let section = $("#portfolioSection")[0];
            section.scrollIntoView({ behavior: "smooth" });
          }, 1);
        } else if (
          ["portfolioSection", "aboutMeSection"].indexOf(hash) !== -1 ||
          (!hash && !$(".portfolioCardHolder").length)
        ) {
          console.log(111);
          $(".portfolioPageHolder").remove();
          $(".portfolioHolder").load("/content/portfolioCardHolder.html");
          $("#portfolioBackButton").addClass("visibility-h");
        } else {
          console.log(222);
          $(".portfolioCardHolder").remove();
          $(".portfolioHolder").load("/content/portfolio/" + hash + ".html");
          $("#portfolioBackButton").removeClass("visibility-h");
          setTimeout(() => {
            console.log("gonna scroll to portfolio project");
            let section = $("#portfolioSection")[0];
            section.scrollIntoView({ behavior: "smooth" });
          }, 1);
        }
      }

      $(document).ready(function () {
        routeThePage();

        $(window).on("hashchange", function (e) {
          routeThePage();
        });
      });
    </script>
  </head>

  <body>
    <a
      class="button bg-warning portfolioBackButton visibility-h border-g2"
      id="portfolioBackButton"
      href="#home"
    >
      Back to Portfolio
    </a>
    <div class="portfolioHolder border-k11"></div>
  </body>
</html>
